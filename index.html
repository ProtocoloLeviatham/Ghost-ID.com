<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LEVIATHAM | GHOST ID GENERATOR</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Fuentes Tácticas, de Máquina de Escribir, Sellos y FIRMA -->
    <link href="https://fonts.googleapis.com/css2?family=Share+Tech+Mono&family=Rajdhani:wght@500;600;700;800&family=Courier+Prime:wght@400;700&family=Fira+Code:wght@400;600&family=Special+Elite&family=Black+Ops+One&family=Libre+Barcode+39+Text&family=Mrs+Saint+Delafield&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
        :root {
            --primary: #00ff00;
            --secondary: #004400;
            --bg-color: #0a0a0a;
            --glass: rgba(0, 20, 0, 0.95);
            --border: 1px solid #00ff00;
            --paper: #e8e4d9; /* Papel más envejecido */
            --ink: #1a1a1a;
        }

        body {
            background-color: var(--bg-color);
            color: var(--primary);
            font-family: 'Share Tech Mono', monospace;
            overflow-x: hidden;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            perspective: 1000px; /* Para efectos 3D */
        }

        /* --- FONDO RED NEURONAL --- */
        #neural-canvas { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: -1; opacity: 0.2; pointer-events: none; }

        /* --- EFECTO CRT (Scanlines + Vignette) --- */
        .crt::before {
            content: " "; display: block; position: absolute; top: 0; left: 0; bottom: 0; right: 0;
            background: linear-gradient(rgba(18, 16, 16, 0) 50%, rgba(0, 0, 0, 0.25) 50%), linear-gradient(90deg, rgba(255, 0, 0, 0.06), rgba(0, 255, 0, 0.02), rgba(0, 0, 255, 0.06));
            z-index: 50; background-size: 100% 2px, 3px 100%; pointer-events: none;
        }
        .scanline {
            width: 100%; height: 100px; z-index: 51;
            background: linear-gradient(0deg, rgba(0,0,0,0) 0%, rgba(0, 255, 0, 0.2) 50%, rgba(0,0,0,0) 100%);
            opacity: 0.1; position: absolute; bottom: 100%;
            animation: scanline 8s linear infinite; pointer-events: none;
        }
        @keyframes scanline { 0% { bottom: 100%; } 100% { bottom: -100%; } }

        /* --- UI COMPONENTS --- */
        .container-main { max-width: 900px; margin: 0 auto; width: 100%; padding: 20px; position: relative; z-index: 60; flex-grow: 1; display: flex; flex-direction: column; }

        .cyber-panel {
            background: var(--glass); border: var(--border);
            box-shadow: 0 0 20px rgba(0, 255, 0, 0.15);
            backdrop-filter: blur(4px); margin-bottom: 20px;
            position: relative;
        }

        .cyber-input {
            background: #0a0a0a; border: 1px solid #333; color: white;
            padding: 10px; width: 100%; font-family: 'Share Tech Mono', monospace;
            transition: 0.3s; text-transform: uppercase;
        }
        .cyber-input:focus { border-color: var(--primary); outline: none; box-shadow: 0 0 10px rgba(0,255,0,0.2); }

        .btn-action {
            background: var(--secondary); color: var(--primary); border: 1px solid var(--primary);
            padding: 15px; width: 100%; font-weight: bold; cursor: pointer;
            text-transform: uppercase; letter-spacing: 2px; transition: 0.2s;
            position: relative; overflow: hidden; display: flex; justify-content: center; gap: 10px; align-items: center;
        }
        .btn-action:hover { background: var(--primary); color: black; box-shadow: 0 0 20px var(--primary); }
        .btn-action:disabled { opacity: 0.5; cursor: not-allowed; filter: grayscale(1); }

        /* --- CREDENCIAL GHOST ID (REALISMO PULIDO + EFECTOS 3D) --- */
        .id-card-container {
            perspective: 1200px; /* Perspectiva ajustada para mejor profundidad */
            width: 100%; max-width: 600px; margin: 0 auto;
            transform-style: preserve-3d;
            cursor: grab; /* Cursor de agarre */
        }
        .id-card-container:active {
            cursor: grabbing;
        }

        .id-card {
            display: grid; 
            grid-template-columns: 140px 1fr; /* Ancho fijo para la sidebar */
            gap: 0; 
            width: 100%;
            border-radius: 12px; 
            /* Fondo Guilloché más complejo y oscuro */
            background-color: #080808;
            background-image: 
                radial-gradient(circle at 50% 50%, rgba(0, 50, 0, 0.1) 0%, transparent 60%),
                repeating-linear-gradient(45deg, rgba(255,255,255,0.03) 0px, rgba(255,255,255,0.03) 1px, transparent 1px, transparent 5px),
                repeating-linear-gradient(-45deg, rgba(255,255,255,0.03) 0px, rgba(255,255,255,0.03) 1px, transparent 1px, transparent 5px);
            border: 1px solid #444;
            border-bottom: 2px solid #222; 
            position: relative; overflow: hidden;
            box-shadow: 0 25px 50px rgba(0,0,0,0.9), inset 0 0 0 2px rgba(255,255,255,0.05);
            font-family: 'Rajdhani', sans-serif;
            color: #e0e0e0;
            
            /* Preparación para 3D JS */
            transform-style: preserve-3d;
            transform: rotateX(0deg) rotateY(0deg);
            /* Transición inicial, JS la gestionará después */
            transition: transform 0.1s ease-out; 
        }
        
        @media (max-width: 600px) {
            .id-card { grid-template-columns: 1fr; text-align: center; }
            .id-sidebar { 
                flex-direction: row; 
                width: 100%; 
                border-right: none; 
                border-bottom: 1px solid #333; 
                padding: 10px;
                justify-content: center;
                gap: 15px;
                flex-wrap: wrap;
            } 
            .vertical-text { display: none; } 
        }

        /* Holograma UV Reactivo Mejorado */
        .id-card::after {
            content: ""; position: absolute; inset: -50%;
            background: linear-gradient(135deg, transparent 40%, rgba(0, 255, 136, 0.2) 45%, rgba(0, 119, 255, 0.2) 50%, rgba(0, 255, 136, 0.2) 55%, transparent 60%);
            mix-blend-mode: color-dodge;
            /* La animación automática se reemplaza parcialmente por el movimiento del mouse, pero dejamos esta de fondo */
            animation: holo-shift 8s linear infinite;
            pointer-events: none; z-index: 50; opacity: 0.7;
            transform: translateZ(1px);
        }
        @keyframes holo-shift { 0% { transform: translateY(-30%) rotate(20deg); } 100% { transform: translateY(30%) rotate(20deg); } }

        /* Reflejo de luz dinámico (Glare) */
        .glare {
            position: absolute; width: 100%; height: 100%; top: 0; left: 0;
            background: radial-gradient(circle at 50% 50%, rgba(255,255,255,0.3), transparent 60%);
            opacity: 0; mix-blend-mode: overlay; pointer-events: none; z-index: 60;
            transition: opacity 0.2s;
        }

        /* Microtexto de seguridad de fondo */
        .security-pattern {
            position: absolute; inset: 0; 
            background-image: url('data:image/svg+xml;utf8,<svg width="60" height="60" viewBox="0 0 60 60" xmlns="http://www.w3.org/2000/svg"><text x="30" y="30" font-size="4" fill="%23ffffff" opacity="0.05" font-family="monospace" text-anchor="middle" dominant-baseline="middle" transform="rotate(-30 30 30)">LEVIATHAM OFFICIAL</text></svg>');
            z-index: 0; pointer-events: none;
        }

        .id-header {
            grid-column: 1 / -1;
            display: flex; justify-content: space-between; align-items: flex-end;
            border-bottom: 2px solid var(--primary);
            padding: 15px 20px 10px; /* Ajuste padding */
            position: relative; z-index: 2;
            text-shadow: 0 2px 4px rgba(0,0,0,0.8);
            background: linear-gradient(to bottom, rgba(0,0,0,0.8), transparent);
            transform: translateZ(20px); /* Efecto de profundidad */
        }
        
        .id-header-text h2 { font-size: 20px; font-weight: 900; letter-spacing: 3px; color: #fff; text-transform: uppercase; }
        .id-header-text span { font-size: 10px; color: var(--primary); letter-spacing: 3px; font-weight: bold; }

        /* --- SIDEBAR CORREGIDA Y PERSONALIZADA --- */
        .id-sidebar {
            display: flex; 
            flex-direction: column; 
            align-items: center;
            justify-content: flex-start;
            position: relative; 
            z-index: 2;
            background: rgba(0, 20, 0, 0.3); 
            border-right: 1px solid rgba(255,255,255,0.1); 
            padding: 15px 0;
            flex-shrink: 0; 
            overflow: hidden; 
            transform: translateZ(15px);
        }

        .vertical-text {
            writing-mode: vertical-rl;
            text-orientation: mixed;
            transform: rotate(180deg);
            font-size: 8px;
            color: #444;
            letter-spacing: 2px;
            margin-top: 10px;
            font-family: 'Share Tech Mono';
            border-left: 1px solid #333;
            padding-left: 4px;
            height: 100%;
            max-height: 40px;
        }

        .id-photo-frame {
            width: 100px; height: 130px; 
            border: 2px solid rgba(255,255,255,0.3);
            border-radius: 8px;
            padding: 3px; 
            position: relative; 
            background: #000;
            overflow: hidden;
            box-shadow: inset 0 0 15px rgba(0,0,0,1);
            margin-bottom: 10px;
            flex-shrink: 0; 
            transform: translateZ(10px);
        }
        .id-photo-frame img { 
            width: 100%; height: 100%; object-fit: cover; border-radius: 6px; 
            filter: grayscale(100%) contrast(1.3) brightness(0.9);
            position: relative; z-index: 2;
        }
        
        /* QR Code en Sidebar */
        .qr-frame {
            background: white;
            padding: 2px;
            border-radius: 4px;
            margin-top: auto;
            margin-bottom: 5px;
            width: 60px;
            height: 60px;
            flex-shrink: 0;
            transform: translateZ(5px);
        }
        .qr-frame img {
            width: 100%;
            height: 100%;
        }
        
        /* Foto fantasma integrada */
        .ghost-photo {
            position: absolute;
            right: -20px; bottom: 40px;
            width: 120px; height: 150px;
            opacity: 0.15;
            filter: grayscale(100%) invert(1);
            mix-blend-mode: overlay;
            z-index: 1; pointer-events: none;
            transform: rotate(-5deg) translateZ(2px);
            mask-image: radial-gradient(circle, black 30%, transparent 70%);
            -webkit-mask-image: radial-gradient(circle, black 30%, transparent 70%);
        }

        .chip {
            width: 42px; height: 32px; 
            background: linear-gradient(135deg, #a67c00 0%, #ffd700 50%, #a67c00 100%);
            border-radius: 6px; margin-bottom: 15px; 
            box-shadow: 0 3px 5px rgba(0,0,0,0.8), inset 0 1px 0 rgba(255,255,255,0.4);
            position: relative; overflow: hidden;
            border: 1px solid #8b6508;
            flex-shrink: 0;
            transform: translateZ(25px); /* El chip sobresale más */
        }
        .chip::before { 
            content: ""; position: absolute; inset: 0;
            background-image: 
                linear-gradient(90deg, transparent 48%, rgba(0,0,0,0.5) 50%, transparent 52%),
                linear-gradient(0deg, transparent 48%, rgba(0,0,0,0.5) 50%, transparent 52%);
            background-size: 14px 100%, 100% 16px;
        }

        .id-main { 
            position: relative; z-index: 2; 
            display: flex; flex-direction: column; gap: 8px; 
            text-shadow: 0 1px 2px rgba(0,0,0,0.8);
            padding: 0 20px 20px 10px; 
            transform: translateZ(10px);
        }
        
        .data-row { display: flex; gap: 15px; flex-wrap: wrap; }
        .data-field-v2 { flex-grow: 1; border-bottom: 1px solid rgba(255,255,255,0.1); padding-bottom: 2px; }
        .label-v2 { font-size: 7px; color: #aaa; display: block; text-transform: uppercase; font-weight: 700; letter-spacing: 0.5px; margin-bottom: 1px; }
        .value-v2 { font-size: 13px; color: #fff; font-weight: 700; text-transform: uppercase; font-family: 'Rajdhani', sans-serif; letter-spacing: 1px; }
        .value-v2.highlight { color: var(--primary); font-size: 15px; font-weight: 800; }
        
        .signature-field {
            font-family: 'Mrs Saint Delafield', cursive;
            font-size: 24px;
            color: rgba(0, 0, 0, 0.7); /* Tinta negra translúcida */
            position: absolute;
            bottom: 60px;
            right: 20px;
            transform: rotate(-5deg) translateZ(15px);
            z-index: 5;
            text-shadow: 0 0 2px rgba(255,255,255,0.5);
            pointer-events: none;
            mix-blend-mode: multiply;
        }
        /* Firma para modo oscuro */
        .id-card .signature-field {
            color: rgba(255, 255, 255, 0.8);
            mix-blend-mode: normal;
            text-shadow: 0 0 5px rgba(0,0,0,0.8);
        }

        .mrz-container {
            font-family: 'OCR-B', 'Courier New', monospace;
            font-size: 13px; letter-spacing: 2px;
            color: #222; background: rgba(255,255,255,0.9);
            padding: 10px; border-radius: 4px;
            margin-top: auto; width: 100%;
            white-space: pre; overflow: hidden;
            font-weight: bold; text-transform: uppercase;
            box-shadow: inset 0 0 5px rgba(0,0,0,0.5);
            border: 1px solid #000;
            transform: translateZ(5px);
        }

        /* --- EXPEDIENTE PAPEL (TOTALMENTE REDISEÑADO - REALISTA & CLASIFICADO) --- */
        .paper-dossier {
            background-color: var(--paper);
            color: var(--ink);
            font-family: 'Special Elite', 'Courier Prime', monospace; /* Fuente mecanografiada desgastada */
            padding: 60px; margin: 60px auto; max-width: 850px;
            box-shadow: 
                0 20px 50px rgba(0,0,0,0.9), 
                inset 0 0 100px rgba(139, 69, 19, 0.4); /* Bordes quemados/sucios */
            position: relative; 
            transform: rotate(-1deg);
            border: none;
            /* Textura de papel viejo compleja */
            background-image: 
                url("data:image/svg+xml;utf8,<svg viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'><filter id='n'><feTurbulence type='fractalNoise' baseFrequency='0.6' stitchTiles='stitch'/></filter><rect width='100%' height='100%' filter='url(%23n)' opacity='0.2'/></svg>"),
                linear-gradient(to bottom right, rgba(0,0,0,0.1) 0%, rgba(0,0,0,0) 50%, rgba(0,0,0,0.1) 100%);
            overflow: hidden;
        }

        /* Marca de Agua Leviathan */
        .paper-watermark {
            position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%) rotate(-30deg) scale(1.2);
            font-size: 12rem; color: rgba(0,0,0,0.04); font-family: 'Black Ops One';
            pointer-events: none; z-index: 0; white-space: nowrap; text-transform: uppercase;
        }

        /* Sello "TOP SECRET" */
        .stamp-top-secret {
            position: absolute; top: 30px; right: 30px;
            border: 6px double #b00; color: #b00;
            font-size: 32px; font-weight: bold; font-family: 'Black Ops One', sans-serif;
            padding: 10px 25px; transform: rotate(-8deg);
            text-transform: uppercase; mix-blend-mode: multiply; opacity: 0.8;
            mask-image: url("data:image/svg+xml;utf8,<svg width='300' height='150' xmlns='http://www.w3.org/2000/svg'><filter id='n'><feTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='4'/></filter><rect width='100%' height='100%' filter='url(%23n)' opacity='0.6'/></svg>");
        }
        /* Sello "COPIA" */
        .stamp-copy {
            position: absolute; bottom: 120px; left: 50px;
            border: 3px solid #000080; color: #000080;
            font-size: 18px; font-family: 'Courier Prime'; font-weight: bold;
            padding: 5px 15px; transform: rotate(5deg);
            text-transform: uppercase; mix-blend-mode: multiply; opacity: 0.7;
        }

        /* Cabecera de Formulario Clasificado */
        .dossier-header-grid {
            display: grid; grid-template-columns: 1fr 200px;
            border-bottom: 4px solid #222; padding-bottom: 20px; margin-bottom: 30px;
            position: relative; z-index: 2;
        }
        .dh-title h1 { font-size: 36px; font-weight: 900; text-decoration: underline; margin-bottom: 5px; }
        .dh-meta { font-family: 'Fira Code', monospace; font-size: 11px; color: #444; }
        .dh-security-box {
            border: 3px solid #222; text-align: center; padding: 5px;
            display: flex; flex-direction: column; justify-content: center;
            background: rgba(0,0,0,0.05);
        }
        .dh-security-label { font-size: 10px; font-weight: bold; display: block; border-bottom: 2px solid #222; }
        .dh-security-level { font-family: 'Black Ops One'; font-size: 24px; color: #b00; line-height: 1.2; }

        /* Cuadrícula de Datos del Formulario */
        .dossier-grid-form {
            display: grid; grid-template-columns: repeat(4, 1fr);
            gap: 15px; position: relative; z-index: 2;
            border: 2px solid #333; padding: 15px;
            background: rgba(255,255,255,0.4);
        }
        .form-box { border: 1px solid #555; padding: 8px; position: relative; background: rgba(240, 240, 230, 0.6); }
        .form-box.span-2 { grid-column: span 2; }
        .form-box.span-4 { grid-column: span 4; }
        .box-label {
            display: block; font-size: 9px; font-weight: bold; text-transform: uppercase;
            color: #555; border-bottom: 1px dotted #777; margin-bottom: 5px;
            font-family: 'Fira Code', monospace;
        }
        .box-value {
            font-family: 'Special Elite', 'Courier New', monospace;
            font-size: 14px; color: #000; font-weight: 900;
            white-space: nowrap; overflow: hidden; text-overflow: ellipsis;
        }
        .box-value.highlight { color: #b00; }
        
        .box-value.mono-sm { font-family: 'Fira Code', monospace; font-size: 11px; }

        .comms-box { background: rgba(0,0,0,0.05); padding: 15px; border-left: 4px solid #b00; font-style: italic; }

        .dossier-footer {
            text-center: center; margin-top: 40px; padding-top: 20px; border-top: 2px solid #333;
            font-family: 'Fira Code', monospace; font-size: 10px; color: #555; position: relative; z-index: 2;
        }

        /* --- TERMINAL LINUX BOOT --- */
        #hack-terminal {
            position: fixed; inset: 0; background: #000; z-index: 100;
            padding: 20px; 
            font-family: 'Fira Code', 'Courier New', monospace; /* Fuente Real de Terminal */
            font-size: 14px; 
            color: #ccc;
            display: none; flex-direction: column; 
            line-height: 1.4;
            cursor: text;
            overflow: hidden;
        }
        
        .terminal-header {
            display: flex; flex-direction: column; align-items: center; justify-content: center;
            margin-bottom: 2rem; border-bottom: 1px solid #333; padding-bottom: 1rem;
            width: 100%;
        }

        .linux-ascii { 
            color: var(--primary); font-size: 10px; line-height: 10px; white-space: pre; 
            font-weight: bold; text-align: center; margin-bottom: 10px;
            text-shadow: 0 0 5px rgba(0,255,0,0.5);
        }
        
        .boot-log { 
            flex-grow: 1; overflow-y: hidden; display: flex; flex-direction: column; justify-content: flex-end; 
            width: 100%; max-width: 900px; margin: 0 auto;
        }
        
        .log-line { display: flex; align-items: flex-start; margin-bottom: 2px; }
        .log-time { color: #666; margin-right: 15px; min-width: 80px; }
        .log-status { font-weight: bold; margin-right: 10px; min-width: 50px; text-align: center; }
        .status-ok { color: var(--primary); }
        .status-fail { color: #ff3333; }
        .status-warn { color: #ffcc00; }
        .log-msg { color: #ddd; white-space: pre-wrap; word-break: break-all; }

        .prompt-line { display: flex; align-items: center; color: #fff; margin-top: 10px; }
        .prompt-user { color: #ff3333; font-weight: bold; }
        .prompt-host { color: #fff; }
        .prompt-path { color: #3333ff; font-weight: bold; }
        .cursor-blink { 
            display: inline-block; width: 8px; height: 16px; background: #ccc; 
            animation: blink 1s step-end infinite; margin-left: 5px; 
        }
        @keyframes blink { 0%, 100% { opacity: 1; } 50% { opacity: 0; } }

        /* GLITCH */
        .glitch { font-size: 2.5rem; font-weight: bold; text-transform: uppercase; text-shadow: 2px 2px 0px #f00, -2px -2px 0px #00f; animation: glitch 1s infinite alternate; }
        .glitch-sm { font-size: 1rem; text-shadow: 1px 1px 0px #f00, -1px -1px 0px #00f; animation: glitch 2s infinite alternate-reverse; }
        @keyframes glitch { 0% { text-shadow: 2px 2px 0px #f00; } 100% { text-shadow: -2px -2px 0px #00f; } }
    </style>
</head>
<body class="crt">
    <canvas id="neural-canvas"></canvas>
    <div class="scanline"></div>

    <!-- TERMINAL DE CARGA SYSTEM404G -->
    <div id="hack-terminal">
        <div class="terminal-header">
            <div class="mb-2 text-4xl text-green-600 animate-pulse"><i class="fas fa-biohazard"></i></div>
            <div class="linux-ascii">
  _               _       _   _                     
 | |    _____   _(_) __ _| |_| |__   __ _ _ __ ___  
 | |   / _ \ \ / / |/ _` | __| '_ \ / _` | '_ ` _ \ 
 | |__|  __/\ V /| | (_| | |_| | | | (_| | | | | | |
 |_____\___| \_/ |_|\__,_|\__|_| |_|\__,_|_| |_| |_|
            </div>
            <div class="text-xs text-gray-500 tracking-[0.3em] font-bold mt-2">KALI LINUX // LEVIATHAM EDITION v2.0</div>
        </div>
        <div class="boot-log" id="boot-log"></div>
    </div>

    <div class="container-main">
        
        <!-- HEADER -->
        <header class="text-center border-b-2 border-green-900 pb-4 mb-6">
            <h1 class="glitch tracking-widest text-white">LEVIATHAM GHOST ID</h1>
            <div class="flex justify-center gap-4 mt-2 text-xs font-bold">
                <span class="text-green-600">SYS: <span class="text-white">ONLINE</span></span>
                <span class="text-green-600">ENCRYPTION: <span class="text-white">AES-256</span></span>
                <span class="text-green-600">NODE: <span class="text-white">KALI_01</span></span>
            </div>
        </header>

        <!-- PANEL DE CONFIGURACIÓN -->
        <div id="config-panel" class="cyber-panel p-6">
            <h2 class="text-lg font-bold mb-4 border-b border-gray-700 pb-2 flex items-center">
                <i class="fas fa-fingerprint mr-2"></i> GENERADOR DE IDENTIDAD SINTÉTICA
            </h2>
            
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-6">
                <div>
                    <label class="label mb-2">GÉNERO DEL OBJETIVO</label>
                    <select id="gender" class="cyber-input">
                        <option value="male">MASCULINO</option>
                        <option value="female">FEMENINO</option>
                    </select>
                </div>
                <div>
                    <label class="label mb-2">REGIÓN DE ORIGEN</label>
                    <select id="region" class="cyber-input">
                        <option value="us">ESTADOS UNIDOS (US)</option>
                        <option value="gb">REINO UNIDO (GB)</option>
                        <option value="fr">FRANCIA (FR)</option>
                        <option value="de">ALEMANIA (DE)</option>
                        <option value="es">ESPAÑA (ES)</option>
                        <option value="br">BRASIL (BR)</option>
                        <option value="mx">MÉXICO (MX)</option>
                        <option value="ru">RUSIA (RU)</option>
                    </select>
                </div>
            </div>

            <button onclick="startSequence()" class="btn-action" id="btn-forge">
                <i class="fas fa-terminal"></i> INICIAR FABRICACIÓN GHOST
            </button>
        </div>

        <!-- CONTENEDOR DE RESULTADOS -->
        <div id="results-container" class="hidden">
            
            <!-- Botón Volver -->
            <div class="flex justify-end mb-4">
                <button onclick="resetApp()" class="bg-green-900 hover:bg-green-700 text-white font-bold py-2 px-4 rounded border border-green-500 text-xs flex items-center gap-2 transition-all">
                    <i class="fas fa-undo"></i> GENERAR NUEVA IDENTIDAD
                </button>
            </div>

            <!-- TARJETA DE ACCESO MEJORADA (EFECTO 3D) -->
            <div class="id-card-container">
                <div class="id-card">
                    <div class="glare"></div> <!-- Capa de brillo -->
                    <div class="security-pattern"></div>
                    <img id="card-ghost-photo" class="ghost-photo" src="" alt="Ghost">
                    <div id="card-signature" class="signature-field"></div>
                    
                    <!-- Cabecera Tarjeta -->
                    <div class="id-header">
                        <div class="id-header-text">
                            <span>ESTADO SOBERANO DE</span>
                            <h2>LEVIATHAM</h2>
                        </div>
                        <i class="fas fa-fingerprint text-3xl text-green-700 opacity-80"></i>
                    </div>
                    
                    <!-- Sidebar (Chip + Foto) -->
                    <div class="id-sidebar">
                        <div class="chip"></div>
                        <div class="id-photo-frame">
                            <img id="card-photo" src="" alt="Subject">
                        </div>
                        <div class="qr-frame">
                            <img id="card-qr" src="" alt="QR">
                        </div>
                        <div class="vertical-text">
                            SECURE ID // v2.4
                        </div>
                    </div>

                    <!-- Main Info -->
                    <div class="id-main">
                        <div class="data-row">
                            <div class="data-field-v2">
                                <span class="label-v2">SURNAME</span>
                                <span id="card-surname" class="value-v2 highlight">---</span>
                            </div>
                            <div class="data-field-v2">
                                <span class="label-v2">GIVEN NAMES</span>
                                <span id="card-firstname" class="value-v2 highlight">---</span>
                            </div>
                        </div>

                        <div class="data-row">
                            <div class="data-field-v2">
                                <span class="label-v2">NATIONALITY</span>
                                <span id="card-nat" class="value-v2">---</span>
                            </div>
                            <div class="data-field-v2">
                                <span class="label-v2">DATE OF BIRTH</span>
                                <span id="card-dob" class="value-v2">---</span>
                            </div>
                            <div class="data-field-v2">
                                <span class="label-v2">SEX</span>
                                <span id="card-sex" class="value-v2">---</span>
                            </div>
                        </div>
                        
                        <!-- NUEVA FILA: DNI, Altura y Ojos -->
                        <div class="data-row">
                            <div class="data-field-v2">
                                <span class="label-v2">DOCUMENT NO.</span>
                                <span id="card-doc-no" class="value-v2 text-green-400">---</span>
                            </div>
                            <div class="data-field-v2">
                                <span class="label-v2">HEIGHT</span>
                                <span id="card-height" class="value-v2">---</span>
                            </div>
                            <div class="data-field-v2">
                                <span class="label-v2">EYES</span>
                                <span id="card-eyes" class="value-v2">---</span>
                            </div>
                        </div>

                        <div class="data-row">
                            <div class="data-field-v2">
                                <span class="label-v2">DEPARTMENT</span>
                                <span id="card-dept" class="value-v2 text-green-400">---</span>
                            </div>
                            <div class="data-field-v2">
                                <span class="label-v2">BLOOD TYPE</span>
                                <span id="card-blood" class="value-v2 text-red-500">---</span>
                            </div>
                            <div class="data-field-v2">
                                <span class="label-v2">ISSUED / EXPIRES</span>
                                <span class="value-v2" id="card-dates">--- / PERM</span>
                            </div>
                        </div>

                        <div class="data-row">
                            <div class="data-field-v2" style="border:none;">
                                <span class="label-v2">UUID / CONTROL NUMBER</span>
                                <span id="card-uuid" class="value-v2 text-[10px] tracking-tight">---</span>
                            </div>
                        </div>
                        
                        <div class="mrz-container" id="card-mrz">
                            P&lt;LVTUNKNOWN&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;
                            0000000000XXX0000000M0000
                        </div>
                    </div>
                </div>
            </div>

            <!-- EXPEDIENTE FÍSICO (TOTALMENTE REDISEÑADO) -->
            <div class="paper-dossier">
                <!-- Marcas de Agua y Sellos -->
                <div class="paper-watermark">LEVIATHAM</div>
                <div class="stamp-top-secret">TOP SECRET<br>EYES ONLY</div>
                <div class="stamp-copy">COPY 01 OF 01</div>
                
                <!-- Cabecera del Formulario -->
                <div class="dossier-header-grid">
                    <div class="dh-title">
                        <h1>INTELLIGENCE DOSSIER</h1>
                        <div class="dh-meta">
                            SUBJECT: <span id="doc-header-name">UNKNOWN</span> // REF: LVT-994-ALPHA
                            <br>SOURCE: DEEP_WEB INTELLIGENCE GATHERING
                        </div>
                    </div>
                    <div class="dh-security-box">
                        <span class="dh-security-label">SECURITY CLEARANCE</span>
                        <span class="dh-security-level">LEVEL 5</span>
                    </div>
                </div>

                <!-- Cuadrícula del Formulario -->
                <div class="dossier-grid-form mb-6">
                    <!-- SECCIÓN IDENTIFICACIÓN -->
                    <div class="form-box span-4" style="background: #222; color: #fff;">
                        <span class="box-label" style="color: #aaa; border-color: #555;">SECTION I: PRIMARY IDENTIFICATION</span>
                    </div>
                    <div class="form-box span-2">
                        <span class="box-label">FULL NAME / ALIAS</span>
                        <span class="box-value" id="doc-full-name">---</span>
                    </div>
                    <div class="form-box">
                        <span class="box-label">DOB</span>
                        <span class="box-value" id="doc-dob">---</span>
                    </div>
                    <div class="form-box">
                        <span class="box-label">BLOOD TYPE</span>
                        <span class="box-value highlight" id="doc-blood">---</span>
                    </div>
                    <!-- NUEVO CAMPO: Safe House -->
                    <div class="form-box span-4">
                        <span class="box-label">KNOWN SAFE HOUSE / LOCATION</span>
                        <span class="box-value mono-sm" id="doc-address">---</span>
                    </div>
                    <!-- NUEVO CAMPO: Front Company -->
                    <div class="form-box span-4">
                        <span class="box-label">COVERT FRONT COMPANY</span>
                        <span class="box-value" id="doc-company">---</span>
                    </div>

                    <!-- SECCIÓN FINANCIERA (REORGANIZADA SEGÚN PEDIDO) -->
                    <div class="form-box span-4" style="background: #222; color: #fff; margin-top: 10px;">
                        <span class="box-label" style="color: #aaa; border-color: #555;">SECTION II: FINANCIAL INTELLIGENCE</span>
                    </div>
                    <div class="form-box span-2">
                        <span class="box-label">CREDIT CARD NO</span>
                        <span class="box-value" id="doc-cc">---</span>
                    </div>
                    <div class="form-box span-2">
                        <span class="box-label">EXPIRY / CVV</span>
                        <span class="box-value" id="doc-cc-exp">---</span>
                    </div>
                    <div class="form-box span-2">
                        <span class="box-label">BANK IBAN</span>
                        <span class="box-value" id="doc-iban">---</span>
                    </div>
                     <div class="form-box span-2">
                        <span class="box-label">SWIFT / BIC CODE</span>
                        <span class="box-value" id="doc-swift">---</span>
                    </div>

                    <!-- SECCIÓN HUELLA DIGITAL (REORGANIZADA SEGÚN PEDIDO) -->
                    <div class="form-box span-4" style="background: #222; color: #fff; margin-top: 10px;">
                        <span class="box-label" style="color: #aaa; border-color: #555;">SECTION III: DIGITAL FOOTPRINT</span>
                    </div>
                     <div class="form-box span-2">
                        <span class="box-label">IP ADDRESS (V4)</span>
                        <span class="box-value" id="doc-ip">---</span>
                    </div>
                     <div class="form-box span-2">
                        <span class="box-label">MAC ADDRESS</span>
                        <span class="box-value mono-sm" id="doc-mac">---</span>
                    </div>
                     <div class="form-box span-2">
                        <span class="box-label">LOGIN USER</span>
                        <span class="box-value" id="doc-user">---</span>
                    </div>
                    <div class="form-box span-2">
                        <span class="box-label">PASSWORD HASH</span>
                        <span class="box-value mono-sm" id="doc-pass">---</span>
                    </div>

                    <!-- SECCIÓN CRIPTO (REORGANIZADA SEGÚN PEDIDO) -->
                    <div class="form-box span-4" style="background: #222; color: #fff; margin-top: 10px;">
                        <span class="box-label" style="color: #aaa; border-color: #555;">SECTION IV: CRYPTO ASSETS</span>
                    </div>
                    <div class="form-box span-2">
                        <span class="box-label">BTC WALLET</span>
                        <span class="box-value mono-sm" id="doc-wallet">---</span>
                    </div>
                    <div class="form-box span-2">
                        <span class="box-label">EST. BALANCE</span>
                        <span class="box-value highlight" id="doc-balance">---</span>
                    </div>
                    <!-- NUEVO CAMPO: Altcoin -->
                    <div class="form-box span-4">
                        <span class="box-label">SECONDARY CRYPTO ASSET (LAUNDERED)</span>
                        <span class="box-value mono-sm" id="doc-altcoin">---</span>
                    </div>
                    
                    <!-- NUEVA SECCION V: TECH FINGERPRINT (SOLICITADA) -->
                    <div class="form-box span-4" style="background: #222; color: #fff; margin-top: 10px;">
                        <span class="box-label" style="color: #aaa; border-color: #555;">SECTION V: ASSETS & TECH FINGERPRINT</span>
                    </div>
                    <div class="form-box span-2">
                        <span class="box-label">REGISTERED VEHICLE</span>
                        <span class="box-value" id="doc-vehicle">---</span>
                    </div>
                    <div class="form-box span-2">
                        <span class="box-label">VIN NUMBER</span>
                        <span class="box-value mono-sm" id="doc-vin">---</span>
                    </div>
                    <div class="form-box span-4">
                        <span class="box-label">LAST KNOWN USER AGENT</span>
                        <span class="box-value mono-sm" style="font-size: 10px;" id="doc-ua">---</span>
                    </div>
                    
                    <!-- NUEVA SECCION VI: MISSION DETAILS (NUEVAS APIS) -->
                    <div class="form-box span-4" style="background: #222; color: #fff; margin-top: 10px;">
                        <span class="box-label" style="color: #aaa; border-color: #555;">SECTION VI: MISSION STATUS</span>
                    </div>
                    <div class="form-box span-2">
                        <span class="box-label">OPERATION CODENAME</span>
                        <span class="box-value highlight" id="doc-op-name">---</span>
                    </div>
                    <div class="form-box span-2">
                        <span class="box-label">ASSIGNED EQUIPMENT</span>
                        <span class="box-value" id="doc-equipment">---</span>
                    </div>
                </div>

                 <div class="paper-section mt-6">
                     <div class="paper-title" style="background: #b00;">VII. INTERCEPTED COMMUNICATION FRAGMENT</div>
                     <div class="comms-box">
                        "<span id="doc-quote">---</span>"
                    </div>
                </div>
                
                <div class="dossier-footer">
                    WARNING: THIS DOCUMENT CONTAINS CLASSIFIED INFORMATION PROPERTY OF LEVIATHAM. 
                    <br>UNAUTHORIZED DISCLOSURE IS PUNISHABLE BY TERMINATION.
                </div>
            </div>
        </div>

        <!-- FOOTER MEJORADO -->
        <footer class="relative bg-black border-t-2 border-green-900 py-12 mt-20 overflow-hidden">
            <div class="absolute inset-0 opacity-5" style="background-image: url('data:image/svg+xml,%3Csvg width=\'60\' height=\'60\' viewBox=\'0 0 60 60\' xmlns=\'http://www.w3.org/2000/svg\'%3E%3Cg fill=\'none\' fill-rule=\'evenodd\'%3E%3Cg fill=\'%2300ff00\' fill-opacity=\'1\'%3E%3Cpath d=\'M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z\'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E');"></div>
            <div class="relative z-10 container mx-auto px-4 text-center font-mono">
                <div class="mb-6 animate-pulse"><i class="fas fa-biohazard text-5xl text-green-700 filter drop-shadow-[0_0_10px_rgba(0,255,0,0.5)]"></i></div>
                <h2 class="text-3xl md:text-5xl font-bold text-white mb-2 tracking-[0.2em] uppercase glitch" data-text="INDUSTRIAS LEVIATHAM" style="font-family: 'Rajdhani', sans-serif;">INDUSTRIAS LEVIATHAM</h2>
                <p class="text-green-500 text-sm md:text-lg tracking-[0.5em] mb-8 font-bold glitch-sm" data-text="EST. 2018 - 2025 // CIBERINTELIGENCIA GLOBAL">EST. 2018 - 2025 // CIBERINTELIGENCIA GLOBAL</p>
                <div class="grid grid-cols-2 md:grid-cols-4 gap-4 max-w-4xl mx-auto text-[10px] md:text-xs text-gray-500 border-t border-green-900/50 pt-6">
                    <div class="border-r border-green-900/30"><span class="block text-green-700 mb-1">UBICACIÓN DEL NODO</span><span class="text-white">SECTOR 7G [ARG]</span></div>
                    <div class="border-r border-green-900/30"><span class="block text-green-700 mb-1">ESTADO DE RED</span><span class="text-white animate-pulse">ENCRIPTADO (AES-256)</span></div>
                    <div class="border-r border-green-900/30"><span class="block text-green-700 mb-1">OPERADORES ACTIVOS</span><span class="text-red-500 font-bold glitch" data-text="CLASIFICADO">CLASIFICADO</span></div>
                    <div><span class="block text-green-700 mb-1">ÚLTIMA COMPILACIÓN</span><span class="text-white">KERNEL V11.1.0</span></div>
                </div>
                <div class="mt-10 text-[10px] text-red-900 uppercase tracking-widest">&copy; TODOS LOS DERECHOS RESERVADOS. EL ACCESO NO AUTORIZADO SERÁ PERSEGUIDO BAJO LA LEY 26.388.</div>
            </div>
        </footer>

    </div>

    <script>
        // --- GENERADORES LOCALES (FALLBACKS OBLIGATORIOS) ---
        // Estos aseguran que NUNCA quede un campo vacío si la API falla.
        
        function genCC() {
            let num = "4"; for(let i=0; i<15; i++) num += Math.floor(Math.random()*10);
            return num.match(/.{1,4}/g).join(" ");
        }
        function genExp() { return `202${Math.floor(Math.random()*5)+5}-${Math.floor(Math.random()*12)+1}`; }
        function genCVV() { return Math.floor(Math.random() * (999 - 100) + 100); }
        function genIBAN(country) { return `${country.toUpperCase()}89 ${Math.floor(Math.random()*1000)} ${Math.floor(Math.random()*1000)} ${Math.floor(Math.random()*1000)}`.replace(/ /g, ''); }
        function genSwift() { return "LVTH" + Math.random().toString(36).substring(2, 6).toUpperCase(); }
        function genIP() { return `${Math.floor(Math.random()*255)}.${Math.floor(Math.random()*255)}.${Math.floor(Math.random()*255)}.${Math.floor(Math.random()*255)}`; }
        function genMAC() { return "XX:XX:XX:XX:XX:XX".replace(/X/g, () => "0123456789ABCDEF".charAt(Math.floor(Math.random() * 16))); }
        function genUser(name) { return name.toLowerCase() + Math.floor(Math.random()*999); }
        function genPass() { return Math.random().toString(36).slice(-10); }
        function genBlood() { const b = ['A+', 'A-', 'B+', 'B-', 'O+', 'O-', 'AB+', 'AB-']; return b[Math.floor(Math.random() * b.length)]; }
        function genBank() { const b = ['LEVIATHAM UNION', 'CYBERCORP BANK', 'NEO-TOKYO TRUST', 'SILICON VALLEY SECURE']; return b[Math.floor(Math.random() * b.length)]; }
        function genVehicle() { const v = ['BLACK SUV - FORD EXPLORER', 'GREY SEDAN - TOYOTA CAMRY', 'MOTORCYCLE - KAWASAKI NINJA', 'VAN - MERCEDES SPRINTER']; return v[Math.floor(Math.random() * v.length)]; }
        function genVin() { return Math.random().toString(36).substring(2, 17).toUpperCase(); }
        function genUA() { const u = ['Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36', 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/14.1.1 Safari/605.1.15', 'Mozilla/5.0 (Linux; Android 10; SM-G960U) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.114 Mobile Safari/537.36']; return u[Math.floor(Math.random() * u.length)]; }
        function genAddress() { return "UNKNOWN SAFE HOUSE #8492, SECTOR 7"; }
        function genDept() { return "FIELD OPS"; }
        function genBeer() { return "PROJECT CHAOS"; }
        function genAppliance() { return "TACTICAL SCANNER"; }
        
        // Nueva Lógica de DNI basada en edad (Aproximación Argentina 2024)
        function genDNI(age) {
            let base, range;
            if (age < 20) { base = 50000000; range = 10000000; }
            else if (age < 30) { base = 40000000; range = 10000000; }
            else if (age < 40) { base = 30000000; range = 10000000; }
            else if (age < 50) { base = 23000000; range = 7000000; }
            else if (age < 60) { base = 16000000; range = 7000000; }
            else if (age < 70) { base = 10000000; range = 6000000; }
            else { base = 1000000; range = 9000000; }
            
            return Math.floor(base + Math.random() * range);
        }

        function genHeight() { return (Math.random() * (2.00 - 1.55) + 1.55).toFixed(2); }
        function genEyes() { const e = ['BROWN', 'BLUE', 'GREEN', 'HAZEL', 'GRAY']; return e[Math.floor(Math.random() * e.length)]; }
        function genCompany() { const c = ['OMEGA SOLUTIONS', 'GLOBAL DYNAMICS', 'MASSIVE DYNAMIC', 'CYBERDYNE SYSTEMS', 'ACME CORP']; return c[Math.floor(Math.random() * c.length)]; }
        function genCrypto() { return { coin_name: "Monero", symbol: "XMR" }; }

        let ghostData = {};

        // --- SECUENCIA DE INICIO (TERMINAL DE CARGA LINUX) ---
        function startSequence() {
            const terminal = document.getElementById('hack-terminal');
            const logOutput = document.getElementById('boot-log');
            
            terminal.style.display = 'flex';
            document.getElementById('config-panel').style.display = 'none';
            document.getElementById('results-container').classList.add('hidden'); // Reset visibility
            logOutput.innerHTML = '';
            
            // Iniciar fetching en background
            fetchData();

            // Mensajes estilo Linux Boot / Systemd
            const bootMsgs = [
                { msg: "Loading Linux 5.15.0-kali3-amd64...", status: "" },
                { msg: "Loading initial ramdisk...", status: "" },
                { msg: "Starting version 247.3-7.", status: "" },
                { msg: "Mounted /dev/sdb1 as /boot.", status: "OK" },
                { msg: "Finished File System Check on /dev/disk/by-uuid/0000-0000.", status: "OK" },
                { msg: "Started udev Kernel Device Manager.", status: "OK" },
                { msg: "Found device LEVIATHAM_CRYPT_V2.", status: "OK" },
                { msg: "Starting Network Manager...", status: "..." },
                { msg: "Started Network Manager.", status: "OK" },
                { msg: "Reached target Network.", status: "OK" },
                { msg: "Starting Leviatham Ghost ID Generator Service...", status: "..." },
                { msg: "Started Leviatham Ghost ID Generator Service.", status: "OK" },
                { msg: "Checking encryption keys...", status: "OK" },
                { msg: "[WARNING] Connection attempt intercepted by Firewall.", status: "WARN" },
                { msg: "Bypassing firewall rules...", status: "OK" },
                { msg: "Connecting to TOR network relay...", status: "OK" },
                { msg: "Accessing Dark Web Database [Alpha]...", status: "OK" },
                { msg: "Injecting payload into remote server...", status: "OK" },
                { msg: "Retrieving synthetic biological assets...", status: "OK" },
                { msg: "Fetching secure financial data routes...", status: "OK" },
                { msg: "Accessing vehicle registry database...", status: "OK" },
                { msg: "Tracing digital fingerprint...", status: "OK" },
                { msg: "Locating safe house coordinates...", status: "OK" },
                { msg: "Assigning tactical equipment inventory...", status: "OK" },
                { msg: "Establishing operation codename...", status: "OK" },
                { msg: "Establishing shell company cover...", status: "OK" },
                { msg: "Diversifying crypto assets...", status: "OK" },
                { msg: "Finalizing dossier composition...", status: "OK" },
                { msg: "Starting X11 server...", status: "OK" },
                { msg: "Reached target Graphical Interface.", status: "OK" }
            ];
            
            let cmdIndex = 0;
            const logInterval = setInterval(() => {
                if(cmdIndex < bootMsgs.length) {
                    const item = bootMsgs[cmdIndex];
                    let statusHtml = '';
                    if (item.status === 'OK') statusHtml = '<span class="log-status status-ok">[  OK  ]</span>';
                    else if (item.status === 'FAIL') statusHtml = '<span class="log-status status-fail">[ FAIL ]</span>';
                    else if (item.status === 'WARN') statusHtml = '<span class="log-status status-warn">[ WARN ]</span>';
                    else if (item.status === '...') statusHtml = '<span class="log-status">[ INFO ]</span>';
                    else statusHtml = '<span class="log-status">        </span>'; // Padding

                    const time = (Math.random() * 10).toFixed(6);
                    logOutput.innerHTML += `<div class="log-line"><span class="log-time">[    ${time}]</span>${statusHtml}<span class="log-msg">${item.msg}</span></div>`;
                    
                    // Auto-scroll logic (keep bottom in view)
                    window.scrollTo(0, document.body.scrollHeight);
                    
                    cmdIndex++;
                } else {
                    clearInterval(logInterval);
                    // Prompt final
                    logOutput.innerHTML += `
                        <div class="prompt-line">
                            <span class="prompt-user">root@leviatham</span><span class="prompt-host">:~#</span>&nbsp;./launch_gui.sh<span class="cursor-blink"></span>
                        </div>
                    `;
                    setTimeout(() => {
                        terminal.style.display = 'none';
                        renderResults();
                    }, 1500);
                }
            }, 200); // Velocidad de boot
        }

        // --- FUNCION RESET (VOLVER A INICIO) ---
        function resetApp() {
            document.getElementById('results-container').classList.add('hidden');
            document.getElementById('config-panel').style.display = 'block';
            window.scrollTo(0, 0);
        }

        // --- EXTRACCIÓN DE DATOS HÍBRIDA ---
        async function fetchData() {
            const gender = document.getElementById('gender').value;
            const region = document.getElementById('region').value;

            // 1. RANDOM USER (Principal - Foto e info base)
            try {
                const res = await fetch(`https://randomuser.me/api/?results=1&gender=${gender}&nat=${region}`);
                const data = await res.json();
                ghostData.user = data.results[0];
            } catch (e) {
                console.error("User API failed");
                // Fallback de emergencia
                ghostData.user = {
                    name: { first: "John", last: "Doe" },
                    location: { country: "Unknown", city: "Unknown" },
                    dob: { date: "1990-01-01", age: 30 },
                    login: { uuid: "unknown-uuid", username: "ghost", password: "123" },
                    picture: { large: "https://robohash.org/fallback" },
                    nat: "US", gender: "male"
                };
            }

            // 2. OTROS DATOS (Generación Local Garantizada + Intentos de API)
            ghostData.finance = {
                cc: genCC(),
                exp: genExp(),
                cvv: genCVV(),
                iban: genIBAN(region),
                swift: genSwift()
            };

            ghostData.net = {
                ip: genIP(),
                mac: genMAC()
            };

            // Intentar API de Frases (Advice)
            try {
                const res = await fetch('https://api.adviceslip.com/advice');
                const data = await res.json();
                ghostData.quote = data.slip.advice;
            } catch(e) {
                ghostData.quote = "System failure. Proceed with caution.";
            }

            // Intentar Precio BTC
            try {
                const res = await fetch('https://api.coingecko.com/api/v3/simple/price?ids=bitcoin&vs_currencies=usd');
                const data = await res.json();
                ghostData.btcPrice = data.bitcoin.usd;
            } catch(e) {
                ghostData.btcPrice = 60000;
            }

            // NUEVA API: Random Data API (Blood Type) - GRUPO SANGUÍNEO
            try {
                const res = await fetch('https://random-data-api.com/api/v2/blood_types');
                const data = await res.json();
                ghostData.blood = data.group; // Retorna ej: "A+"
            } catch(e) {
                ghostData.blood = genBlood(); // Fallback local
            }

            // NUEVA API: Random Data API (Banks) - NOMBRE DE BANCO
            try {
                const res = await fetch('https://random-data-api.com/api/v2/banks');
                const data = await res.json();
                ghostData.bankName = data.bank_name;
            } catch(e) {
                ghostData.bankName = genBank(); // Fallback local
            }

            // NUEVA API: Random Data API (Vehicles) - VEHÍCULO
            try {
                const res = await fetch('https://random-data-api.com/api/v2/vehicles');
                const data = await res.json();
                ghostData.vehicle = `${data.make_and_model} (${data.color})`;
                ghostData.vin = data.vin;
            } catch(e) {
                ghostData.vehicle = genVehicle(); 
                ghostData.vin = genVin();
            }

            // NUEVA API: Random Data API (User Agents) - USER AGENT
            try {
                const res = await fetch('https://random-data-api.com/api/v2/user_agents');
                const data = await res.json();
                ghostData.ua = data.user_agent;
            } catch(e) {
                ghostData.ua = genUA();
            }

            // NUEVA API: Random Data API (Addresses) - DIRECCION SEGURA
            try {
                const res = await fetch('https://random-data-api.com/api/v2/addresses');
                const data = await res.json();
                ghostData.address = `${data.street_address}, ${data.city_name}, ${data.country}`;
            } catch(e) {
                ghostData.address = genAddress();
            }

            // NUEVA API: Random Data API (Commerce) - DEPARTAMENTO
            try {
                const res = await fetch('https://random-data-api.com/api/v2/commerce');
                const data = await res.json();
                ghostData.dept = data.department;
            } catch(e) {
                ghostData.dept = genDept();
            }

            // NUEVA API: Random Data API (Beers) - OPERACION
            try {
                const res = await fetch('https://random-data-api.com/api/v2/beers');
                const data = await res.json();
                ghostData.opName = data.name;
            } catch(e) {
                ghostData.opName = genBeer();
            }

            // NUEVA API: Random Data API (Appliances) - EQUIPAMIENTO
            try {
                const res = await fetch('https://random-data-api.com/api/v2/appliances');
                const data = await res.json();
                ghostData.equipment = data.equipment;
            } catch(e) {
                ghostData.equipment = genAppliance();
            }

            // NUEVA API: Random Data API (Users) - BIOMETRIA REALISTA
            try {
                const res = await fetch('https://random-data-api.com/api/v2/users');
                const data = await res.json();
                // Si la API responde, usamos sus datos para altura y ojos si disponibles, si no, fallback
            } catch(e) {
                // Fallback silencioso
            }

            // NUEVA API: Random Data API (Company) - EMPRESA FANTASMA
            try {
                const res = await fetch('https://random-data-api.com/api/v2/company');
                const data = await res.json();
                ghostData.company = data.business_name;
            } catch(e) {
                ghostData.company = genCompany();
            }

            // NUEVA API: Random Data API (Crypto) - ALTCOIN
            try {
                const res = await fetch('https://random-data-api.com/api/v2/crypto_coin');
                const data = await res.json();
                ghostData.altcoin = `${data.coin_name} (${data.symbol})`;
            } catch(e) {
                const c = genCrypto();
                ghostData.altcoin = `${c.coin_name} (${c.symbol})`;
            }
        }

        function renderResults() {
            const u = ghostData.user;
            const age = u.dob.age; // Obtener edad real del usuario
            
            // --- RELLENAR PASAPORTE ---
            const userPic = document.getElementById('card-photo');
            if(userPic) userPic.src = u.picture.large;

            const ghostPic = document.getElementById('card-ghost-photo');
            if(ghostPic) ghostPic.src = u.picture.large;
            
            // QR Code en Sidebar
            const qrData = `ID:${u.login.uuid}|${u.name.last},${u.name.first}|OP:${ghostData.opName}`;
            const qrImg = document.getElementById('card-qr');
            if(qrImg) qrImg.src = `https://api.qrserver.com/v1/create-qr-code/?size=150x150&data=${encodeURIComponent(qrData)}`;

            document.getElementById('card-surname').innerText = u.name.last.toUpperCase();
            document.getElementById('card-firstname').innerText = u.name.first.toUpperCase();
            document.getElementById('card-signature').innerText = `${u.name.first} ${u.name.last}`;
            
            const natLabel = (document.getElementById('region').value === 'ru') ? 'RUS' : u.nat;
            document.getElementById('card-nat').innerText = natLabel;
            
            const dob = new Date(u.dob.date);
            document.getElementById('card-dob').innerText = dob.toLocaleDateString();
            document.getElementById('card-sex').innerText = (u.gender === 'male') ? 'M' : 'F';
            document.getElementById('card-uuid').innerText = u.login.uuid;
            
            // Nuevo campo: Blood Type & Dept
            document.getElementById('card-blood').innerText = ghostData.blood || genBlood();
            document.getElementById('card-dept').innerText = (ghostData.dept || genDept()).toUpperCase();

            // Nuevo campo: DNI (Correcto con edad), Height, Eyes
            document.getElementById('card-doc-no').innerText = genDNI(age);
            document.getElementById('card-height').innerText = genHeight() + " M";
            document.getElementById('card-eyes').innerText = genEyes();

            // Dates
            const issued = new Date();
            issued.setFullYear(issued.getFullYear() - 1);
            document.getElementById('card-dates').innerText = `${issued.toLocaleDateString()} / PERM`;

            // MRZ Code
            const mrzNat = (u.nat === 'US') ? 'USA' : u.nat.padEnd(3, 'X');
            const mrz1 = `P<LVT${u.name.last.toUpperCase()}<<${u.name.first.toUpperCase()}`;
            const rnd = Math.floor(Math.random() * 9999999);
            const mrz2 = `${u.login.uuid.substring(0,9).toUpperCase()}${u.nat}000000${u.gender==='male'?'M':'F'}${rnd}`;
            
            document.getElementById('card-mrz').innerHTML = `${mrz1.substring(0,44)}\n${mrz2.substring(0,44)}`;

            // --- RELLENAR EXPEDIENTE (NUEVO DISEÑO) ---
            document.getElementById('doc-header-name').innerText = `${u.name.last}, ${u.name.first}`.toUpperCase();
            document.getElementById('doc-full-name').innerText = `${u.name.first} ${u.name.last}`.toUpperCase();
            document.getElementById('doc-dob').innerText = dob.toLocaleDateString();
            document.getElementById('doc-blood').innerText = ghostData.blood || genBlood();
            
            // Nuevo campo Address en expediente
            document.getElementById('doc-address').innerText = (ghostData.address || genAddress()).toUpperCase();
            // Nuevo campo Company
            document.getElementById('doc-company').innerText = (ghostData.company || genCompany()).toUpperCase();

            // SECTION II: FINANCIAL INTELLIGENCE (Separate Fields)
            document.getElementById('doc-cc').innerText = ghostData.finance.cc;
            document.getElementById('doc-cc-exp').innerText = `${ghostData.finance.exp} / CVV: ${ghostData.finance.cvv}`;
            document.getElementById('doc-iban').innerText = ghostData.finance.iban;
            document.getElementById('doc-swift').innerText = ghostData.finance.swift;
            
            // SECTION III: DIGITAL FOOTPRINT
            document.getElementById('doc-ip').innerText = ghostData.net.ip;
            document.getElementById('doc-mac').innerText = ghostData.net.mac;
            document.getElementById('doc-user').innerText = u.login.username;
            document.getElementById('doc-pass').innerText = u.login.sha256.substring(0, 32); // Using hash for password hash

            // SECTION IV: CRYPTO ASSETS
            const btcAmt = (Math.random() * 2.5).toFixed(4);
            const btcVal = (btcAmt * ghostData.btcPrice).toLocaleString('en-US', {style:'currency', currency:'USD'});
            document.getElementById('doc-wallet').innerText = "bc1q" + u.login.sha256.substring(0, 34);
            document.getElementById('doc-balance').innerText = `${btcAmt} BTC (${btcVal})`;
            document.getElementById('doc-altcoin').innerText = (ghostData.altcoin || "XMR (Monero)").toUpperCase();
            
            // SECTION V: ASSETS (NEW)
            document.getElementById('doc-vehicle').innerText = (ghostData.vehicle || genVehicle()).toUpperCase();
            document.getElementById('doc-vin').innerText = ghostData.vin || genVin();
            document.getElementById('doc-ua').innerText = ghostData.ua || genUA();

            // SECTION VI: MISSION (NEW)
            document.getElementById('doc-op-name').innerText = `OPERATION: ${(ghostData.opName || genBeer()).toUpperCase()}`;
            document.getElementById('doc-equipment').innerText = (ghostData.equipment || genAppliance()).toUpperCase();
            
            document.getElementById('doc-quote').innerText = `${ghostData.quote}`;

            // Mostrar
            document.getElementById('results-container').classList.remove('hidden');
            window.scrollTo(0, 0); // Scroll to top for ID card view
        }

        // --- SCRIPT 3D INTERACTIVO ---
        (function() {
            const card = document.querySelector('.id-card');
            const container = document.querySelector('.id-card-container');
            const glare = document.querySelector('.glare');

            // Función para rotar la tarjeta
            const rotateCard = (x, y) => {
                const rect = container.getBoundingClientRect();
                const centerX = rect.left + rect.width / 2;
                const centerY = rect.top + rect.height / 2;

                const rotateX = ((y - centerY) / (rect.height / 2)) * -15; // Max 15 degrees tilt
                const rotateY = ((x - centerX) / (rect.width / 2)) * 15;

                card.style.transform = `rotateX(${rotateX}deg) rotateY(${rotateY}deg)`;
                
                // Mover glare (brillo)
                if(glare) {
                    const glareX = 50 + (rotateY * 2);
                    const glareY = 50 - (rotateX * 2);
                    glare.style.background = `radial-gradient(circle at ${glareX}% ${glareY}%, rgba(255,255,255,0.3), transparent 60%)`;
                    glare.style.opacity = '1';
                }
            };

            // Resetear tarjeta
            const resetCard = () => {
                card.style.transform = `rotateX(0deg) rotateY(0deg)`;
                if(glare) glare.style.opacity = '0';
            };

            // Eventos PC (Mouse)
            container.addEventListener('mousemove', (e) => {
                // Eliminar transición durante movimiento para fluidez
                card.style.transition = 'none';
                rotateCard(e.clientX, e.clientY);
            });

            container.addEventListener('mouseleave', () => {
                // Añadir transición para suavidad al volver al centro
                card.style.transition = 'transform 0.5s ease-out';
                resetCard();
            });

            // Eventos Móvil (Touch)
            container.addEventListener('touchmove', (e) => {
                e.preventDefault(); // Evitar scroll mientras se rota
                const touch = e.touches[0];
                card.style.transition = 'none';
                rotateCard(touch.clientX, touch.clientY);
            }, { passive: false });

            container.addEventListener('touchend', () => {
                card.style.transition = 'transform 0.5s ease-out';
                resetCard();
            });

        })();

        // --- ANIMACIÓN DE FONDO ---
        (function() {
            const canvas = document.getElementById('neural-canvas');
            const ctx = canvas.getContext('2d');
            let w, h, particles = [];
            function initCanvas() { w = canvas.width = window.innerWidth; h = canvas.height = window.innerHeight; particles = []; for(let i=0; i<60; i++) { particles.push({x: Math.random()*w, y: Math.random()*h, vx: (Math.random()-0.5)*0.5, vy: (Math.random()-0.5)*0.5}); } }
            function animateCanvas() { ctx.clearRect(0,0,w,h); ctx.fillStyle = '#00ff00'; ctx.strokeStyle = 'rgba(0, 255, 0, 0.15)'; particles.forEach((p, i) => { p.x += p.vx; p.y += p.vy; if(p.x<0 || p.x>w) p.vx*=-1; if(p.y<0 || p.y>h) p.vy*=-1; ctx.beginPath(); ctx.arc(p.x, p.y, 1.5, 0, Math.PI*2); ctx.fill(); for(let j=i+1; j<particles.length; j++) { const p2 = particles[j]; if(Math.hypot(p.x-p2.x, p.y-p2.y) < 100) { ctx.beginPath(); ctx.moveTo(p.x, p.y); ctx.lineTo(p2.x, p2.y); ctx.stroke(); } } }); requestAnimationFrame(animateCanvas); }
            window.addEventListener('resize', initCanvas); initCanvas(); animateCanvas();
        })();
    </script>
</body>
</html>
